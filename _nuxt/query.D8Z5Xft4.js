import{l as f,a6 as p,_ as R}from"./entry.C8qPh40j.js";import{u as m}from"./preview.B4Kt807j.js";const O=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,C=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,$=/^([/\\]\s*){2,}[^/\\]/,L=/^\.?\//;function b(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?O.test(e):C.test(e)||(t.acceptRelative?$.test(e):!1)}function A(e="",t){return e.endsWith("/")}function g(e="",t){return(A(e)?e.slice(0,-1):e)||"/"}function S(e="",t){return e.endsWith("/")?e:e+"/"}function T(e=""){return e.startsWith("/")}function x(e=""){return T(e)?e:"/"+e}function v(e,t){if(D(t)||b(e))return e;const n=g(t);return e.startsWith(n)?e:w(n,e)}function D(e){return!e||e==="/"}function k(e){return e&&e!=="/"}function w(e,...t){let n=e||"";for(const i of t.filter(s=>k(s)))if(n){const s=i.replace(L,"");n=S(n)+s}else n=i;return n}const d=(e,t)=>t.split(".").reduce((n,i)=>n&&n[i],e),h=(e,t)=>Object.keys(e).filter(t).reduce((n,i)=>Object.assign(n,{[i]:e[i]}),{}),U=e=>t=>e&&e.length?h(t,n=>!e.includes(n)):t,X=e=>t=>Array.isArray(t)?t.map(n=>e(n)):e(t),_=e=>{const t=[],n=[];for(const i of e)["$","_"].includes(i)?t.push(i):n.push(i);return{prefixes:t,properties:n}},J=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:i}=_(e);return h(t,s=>!i.includes(s)&&!n.includes(s[0]))},K=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:i}=_(e);return h(t,s=>i.includes(s)||n.includes(s[0]))},V=(e,t)=>{const n=new Intl.Collator(t.$locale,{numeric:t.$numeric,caseFirst:t.$caseFirst,sensitivity:t.$sensitivity}),i=Object.keys(t).filter(s=>!s.startsWith("$"));for(const s of i)e=e.sort((a,r)=>{const o=[d(a,s),d(r,s)].map(c=>{if(c!==null)return c instanceof Date?c.toISOString():c});return t[s]===-1&&o.reverse(),n.compare(o[0],o[1])});return e},H=(e,t="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(t)},u=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],I=["sort","where","only","without"];function Q(e,t={}){const n={};for(const r of Object.keys(t.initialParams||{}))n[r]=I.includes(r)?u(t.initialParams[r]):t.initialParams[r];const i=(r,o=c=>c)=>(...c)=>(n[r]=o(...c),a),s=r=>{var o;return t.legacy?r!=null&&r.surround?r.surround:r&&(r!=null&&r.dirConfig&&(r.result={_path:(o=r.dirConfig)==null?void 0:o._path,...r.result,_dir:r.dirConfig}),r!=null&&r._path||Array.isArray(r)||!Object.prototype.hasOwnProperty.call(r,"result")?r:r==null?void 0:r.result):r},a={params:()=>({...n,...n.where?{where:[...u(n.where)]}:{},...n.sort?{sort:[...u(n.sort)]}:{}}),only:i("only",u),without:i("without",u),where:i("where",r=>[...u(n.where),...u(r)]),sort:i("sort",r=>[...u(n.sort),...u(r)]),limit:i("limit",r=>parseInt(String(r),10)),skip:i("skip",r=>parseInt(String(r),10)),find:()=>e(a).then(s),findOne:()=>e(i("first")(!0)).then(s),count:()=>e(i("count")(!0)).then(s),locale:r=>a.where({_locale:r}),withSurround:i("surround",(r,o)=>({query:r,...o})),withDirConfig:()=>i("dirConfig")(!0)};return t.legacy&&(a.findSurround=(r,o)=>a.withSurround(r,o).find().then(s)),a}function E(e){return JSON.stringify(e,B)}function B(e,t){return t instanceof RegExp?`--REGEX ${t.toString()}`:t}const F=e=>{let t=E(e);return t=typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t),t=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(t.match(/.{1,100}/g)||[]).join("/")},y=e=>v(e,f().public.content.api.baseURL),Y=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},j=()=>{const{experimental:e}=f().public.content;return e.clientDB?!0:m().isEnabled()},q=()=>async e=>{const{content:t}=f().public,n=e.params(),i=t.experimental.stripQueryParameters?y(`/query/${`${p(n)}.${t.integrity}`}/${F(n)}.json`):y(`/query/${p(n)}.${t.integrity}.json`);if(j())return(await R(()=>import("./client-db.Dd4qciWq.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.useContentDatabase())).fetch(e);const s=await $fetch(i,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:E(n),previewToken:m().getPreviewToken()}});if(typeof s=="string"&&s.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return s};function z(e,...t){const{content:n}=f().public,i=Q(q(),{initialParams:typeof e!="string"?e:{},legacy:!0});let s;typeof e=="string"&&(s=x(w(e,...t)));const a=i.params;return i.params=()=>{var o,c,l;const r=a();return s&&(r.where=r.where||[],r.first&&(r.where||[]).length===0?r.where.push({_path:g(s)}):r.where.push({_path:new RegExp(`^${s.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(o=r.sort)!=null&&o.length||(r.sort=[{_file:1,$numeric:!0}]),n.locales.length&&((l=(c=r.where)==null?void 0:c.find(P=>P._locale))!=null&&l._locale||(r.where=r.where||[],r.where.push({_locale:n.defaultLocale}))),r},i}export{y as a,H as b,u as c,V as d,F as e,X as f,d as g,J as h,K as i,E as j,w as k,Q as l,v as m,U as o,z as q,j as s,Y as u,S as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.Dd4qciWq.js","./entry.C8qPh40j.js","./entry.BxOTx4W7.css","./preview.B4Kt807j.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
